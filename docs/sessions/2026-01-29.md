# Session: 2026-01-29

## Goal
Implement Sparkle auto-updates for QuickMotion

## Progress
- ✅ Verified EdDSA signing key exists in Keychain (created Dec 2025)
- ✅ Added Sparkle 2 SPM package to Xcode project
- ✅ Configured `Config/Shared.xcconfig` with feed URL and public key
- ✅ Created `UpdaterController.swift` - wraps SPUStandardUpdaterController
- ✅ Updated `QuickMotionApp.swift` with "Check for Updates…" menu item
- ✅ Created `appcast.xml` template for GitHub-hosted updates
- ✅ Created `scripts/sign-for-sparkle.sh` for Sparkle signing workflow
- ✅ Build verified successful, menu item appears in app

## Decisions
- **Sparkle 2 via SPM** - cleanest integration, EdDSA signing (modern/secure)
- **GitHub Releases for hosting** - appcast.xml in repo, ZIPs attached to releases
- **Xcode Organizer for notarization** - continue existing workflow, no CLI credentials needed
- **Separate signing script** - `sign-for-sparkle.sh` runs after Organizer export

## Files Changed
- `Config/Shared.xcconfig` - added SUFeedURL, SUPublicEDKey
- `QuickMotion/UpdaterController.swift` - new file
- `QuickMotion/QuickMotionApp.swift` - added updater + menu item
- `appcast.xml` - new file (template)
- `scripts/sign-for-sparkle.sh` - new file

## Next
- First release: bump version, archive, notarize, run sign script
- Push appcast.xml and create GitHub Release
- Test update flow with v1.0 → v1.1
